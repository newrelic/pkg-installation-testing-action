FROM almalinux:8

# Run a system update to ensure the latest packages are installed
RUN dnf -y update

# Install Python3 and sudo
RUN dnf -y install python3 sudo

# Adding fake systemctl
RUN curl https://raw.githubusercontent.com/gdraheim/docker-systemctl-replacement/master/files/docker/systemctl.py -o /usr/local/bin/systemctl \
    && chmod +x /usr/local/bin/systemctl

# Set the default command to fake systemctl
CMD ["/usr/local/bin/systemctl"]